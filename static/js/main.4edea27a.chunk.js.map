{"version":3,"sources":["StateProvider.js","firebase.js","Header.jsx","Product.jsx","Home.jsx","CheckoutProduct.jsx","Subtotal.jsx","Checkout.jsx","Login.jsx","App.js","reportWebVitals.js","reducer.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","auth","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","Header","basket","user","dispatch","length","reduce","a","b","count","className","to","src","alt","type","onClick","signOut","email","Product","title","price","id","image","rating","Array","fill","map","_","index","item","find","Home","CheckoutProduct","Subtotal","renderText","getBasketTotal","decimalScale","displayType","thousandSeperator","prefix","Checkout","Login","history","useHistory","useState","setEmail","password","setPassword","onChange","e","target","console","log","preventDefault","signInWithEmailAndPassword","then","push","catch","alert","message","createUserWithEmailAndPassword","App","useEffect","unsubscribe","onAuthStateChanged","authUser","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","state","action","indexOf","slice","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6aAGaA,EAAeC,0BAGfC,EAAgB,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,aAAcC,EAA1B,EAA0BA,SAA1B,OAC3B,cAACL,EAAaM,SAAd,CAAuBC,MAAOC,qBAAWL,EAASC,GAAlD,SACGC,KAKQI,EAAgB,kBAAMC,qBAAWV,I,QCExCW,GAHcC,IAASC,cAVN,CACrBC,OAAQ,0CACRC,WAAY,8BACZC,UAAW,cACXC,cAAe,0BACfC,kBAAmB,gBACnBC,MAAO,6CACPC,cAAe,iBAKMC,YACVT,IAASD,QCuDPW,MA9Df,WACE,MAAoCb,IAApC,0BAASc,EAAT,EAASA,OAAQC,EAAjB,EAAiBA,KAAOC,EAAxB,KACMC,EACJH,EAAOG,OAAS,EACZH,EAAOI,QAAO,SAACC,EAAGC,GAChB,OAAOD,EAAIC,EAAEC,QACZ,GACH,EAQN,OACE,sBAAKC,UAAU,SAAf,UACE,cAAC,IAAD,CAAMC,GAAG,IAAT,SACE,qBACEC,IAAI,oDACJC,IAAI,cACJH,UAAU,kBAGd,sBAAKA,UAAU,iBAAf,UACE,uBAAOI,KAAK,OAAOJ,UAAU,wBAC7B,cAAC,IAAD,CAAYA,UAAU,0BAExB,sBAAKA,UAAU,cAAf,UACE,cAAC,IAAD,CAAMC,IAAKR,GAAQ,SAAUO,UAAU,eAAvC,SACE,sBAAKK,QAtBE,WACTZ,IACFC,EAAS,CAACU,KAAK,eACfxB,EAAK0B,YAmBqBN,UAAU,iBAAhC,UACE,uBAAMA,UAAU,sBAAhB,wBAA2CP,QAA3C,IAA2CA,OAA3C,EAA2CA,EAAMc,SACjD,sBAAMP,UAAU,sBAAhB,SACGP,EAAO,WAAa,iBAI3B,cAAC,IAAD,CAAMQ,GAAG,IAAID,UAAU,eAAvB,SACE,sBAAKA,UAAU,iBAAf,UACE,sBAAMA,UAAU,sBAAhB,oBACA,sBAAMA,UAAU,sBAAhB,4BAGJ,cAAC,IAAD,CAAMC,GAAG,IAAID,UAAU,eAAvB,SACE,sBAAKA,UAAU,iBAAf,UACE,sBAAMA,UAAU,sBAAhB,kBACA,sBAAMA,UAAU,sBAAhB,wBAGJ,cAAC,IAAD,CAAMC,GAAG,YAAYD,UAAU,eAA/B,SACE,sBAAKA,UAAU,uBAAf,UACE,cAAC,IAAD,IACA,sBAAMA,UAAU,gDAAhB,SACGL,gB,MCfAa,MA1Cf,YAAuD,IAApCC,EAAmC,EAAnCA,MAAOC,EAA4B,EAA5BA,MAAOC,EAAqB,EAArBA,GAAIC,EAAiB,EAAjBA,MAAOC,EAAU,EAAVA,OAC1C,EAA+BnC,IAA/B,mBAASc,EAAT,KAASA,OAAUE,EAAnB,KAqBA,OACE,sBAAKM,UAAU,UAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,4BAAIS,IACJ,sCACA,iCAASC,IACT,qBAAKV,UAAU,kBAAf,SACGc,MAAMD,GACJE,OACAC,KAAI,SAACC,EAAGC,GAAJ,OACH,sCAAQA,WAIhB,qBAAKhB,IAAKU,EAAOT,IAAKQ,IACtB,wBAAQN,QAnCQ,WAClB,IAAIc,EAAO3B,EAAO4B,MAAK,SAACD,GAAD,OAAUA,EAAKR,KAAOA,KAc3CjB,EAbGyB,EAaM,CACPf,KAAM,gBACNe,QAdO,CACPf,KAAM,gBACNe,KAAM,CACJR,KACAF,QACAG,QACAF,QACAG,SACAd,MAAO,MAwBX,+B,MCwBSsB,MA7Df,WACE,OACE,sBAAKrB,UAAU,OAAf,UACE,qBACEA,UAAU,YACVE,IAAI,6KACJC,IAAI,eAEN,sBAAKH,UAAU,YAAf,UACE,cAAC,EAAD,CACEW,GAAG,WACHF,MAAM,8FACNC,MAAO,MACPG,OAAQ,EACRD,MAAM,6FAER,cAAC,EAAD,CACED,GAAG,WACHF,MAAM,qHACNC,MAAO,IACPG,OAAQ,EACRD,MAAM,qFAGV,sBAAKZ,UAAU,YAAf,UACE,cAAC,EAAD,CACEW,GAAG,UACHF,MAAM,uDACNC,MAAO,OACPG,OAAQ,EACRD,MAAM,gFAER,cAAC,EAAD,CACED,GAAG,WACHF,MAAM,2EACNC,MAAO,MACPG,OAAQ,EACRD,MAAM,+FAER,cAAC,EAAD,CACED,GAAG,aACHF,MAAM,yEACNC,MAAO,OACPG,OAAQ,EACRD,MAAM,mFAIV,qBAAKZ,UAAU,YAAf,SACE,cAAC,EAAD,CACEW,GAAG,WACHF,MAAM,gGACNC,MAAO,QACPG,OAAQ,EACRD,MAAM,sF,MCRDU,MA9Cf,YAAsE,IAA3Cb,EAA0C,EAA1CA,MAAOC,EAAmC,EAAnCA,MAAOC,EAA4B,EAA5BA,GAAIC,EAAwB,EAAxBA,MAAOC,EAAiB,EAAjBA,OAAQd,EAAS,EAATA,MAC1D,EAA+BrB,IAA/B,mBAASc,EAAT,KAASA,OAAUE,EAAnB,KACIyB,EAAO3B,EAAO4B,MAAK,SAACD,GAAD,OAAUR,IAAOQ,EAAKR,MAa7C,OACE,sBAAKX,UAAU,kBAAf,UACE,qBAAKE,IAAKU,EAAOT,IAAKQ,IACtB,sBAAKX,UAAU,wBAAf,UACE,mBAAGA,UAAU,yBAAb,SAAuCS,IACvC,sCACA,iCAASC,IACT,qBAAKV,UAAU,0BAAf,SACGc,MAAMD,GACJE,OACAC,KAAI,SAACC,EAAGC,GAAJ,OACH,sCAAQA,QAGd,gCACE,wBACElB,UAAU,6BACVK,QA7Be,WACvBX,EAAS,CACPU,KAAM,qBACNe,UAwBI,eAMCpB,EACD,wBAAQC,UAAU,0BAA0BK,QA5BhC,WAClBX,EAAS,CACPU,KAAM,gBACNe,UAyBI,yB,uBCFKI,MAlCf,WACE,MAAqB7C,IAAZc,EAAT,oBAASA,OACHG,EAASH,EAAOI,QAAO,SAACC,EAAGC,GAC/B,OAAOD,EAAIC,EAAEC,QACZ,GAMH,OACE,sBAAKC,UAAU,WAAf,UACE,cAAC,IAAD,CACEwB,WAAY,SAAChD,GAAD,OACV,qCACE,2CACamB,EADb,aAC8B,iCAASnB,IAAgB,OAEvD,wBAAOwB,UAAU,kBAAjB,UACE,uBAAOI,KAAK,aADd,yCAKJ5B,MAlBiB,SAACgB,GACtB,OAAOA,EAAOI,QAAO,SAACC,EAAGC,GACvB,OAAOD,EAAIC,EAAEC,MAAQD,EAAEY,QACtB,GAeQe,CAAejC,GACtBkC,aAAc,EACdC,YAAa,OACbC,mBAAmB,EACnBC,OAAQ,MAEV,6D,MCSSC,MArCf,WACE,MAAqBpD,IAAZc,EAAT,oBAASA,OAET,OACE,sBAAKQ,UAAU,WAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,qBACEA,UAAU,eACVE,IAAI,+FACJC,IAAI,KAEN,8BACqB,IAAlBX,EAAOG,OACN,oBAAIK,UAAU,kBAAd,mCAEA,gCACE,oBAAIA,UAAU,kBAAd,kCACCR,EAAOwB,KAAI,SAACG,EAAMD,GAAP,OACV,cAAC,EAAD,CAEEP,GAAIQ,EAAKR,GACTF,MAAOU,EAAKV,MACZG,MAAOO,EAAKP,MACZF,MAAOS,EAAKT,MACZG,OAAQM,EAAKN,OACbd,MAAOoB,EAAKpB,OANPmB,cAajB,qBAAKlB,UAAU,kBAAf,SAAkCR,EAAOG,OAAS,GAAK,cAAC,EAAD,U,MC8B9CoC,MA/Df,WACE,IAAMC,EAAUC,cAChB,EAA0BC,mBAAS,IAAnC,mBAAO3B,EAAP,KAAc4B,EAAd,KACA,EAAgCD,mBAAS,IAAzC,mBAAOE,EAAP,KAAiBC,EAAjB,KAoBA,OACE,sBAAKrC,UAAU,QAAf,UACE,cAAC,IAAD,CAAMC,GAAG,IAAT,SACE,qBACED,UAAU,cACVE,IAAI,uGACJC,IAAI,WAGR,sBAAKH,UAAU,mBAAf,UACE,yCACA,iCACE,wCACA,uBACEI,KAAK,QACL5B,MAAO+B,EACP+B,SAAU,SAACC,GAAD,OAAOJ,EAASI,EAAEC,OAAOhE,UAErC,0CACA,uBACE4B,KAAK,WACL5B,MAAO4D,EACPE,SAAU,SAACC,GAAD,OAAOF,EAAYE,EAAEC,OAAOhE,UAExC,wBAAQ6B,QA3CF,SAACkC,GACXE,QAAQC,IAAIV,GACdO,EAAEI,iBACF/D,EACGgE,2BAA2BrC,EAAO6B,GAClCS,MAAK,SAACjE,GACLoD,EAAQc,KAAK,QAEdC,OAAM,SAACR,GAAD,OAAOS,MAAMT,EAAEU,aAmCM7C,KAAK,SAASJ,UAAU,mBAAhD,wBAIF,2GAIA,wBAAQK,QAzCG,SAACkC,GAChBA,EAAEI,iBACF/D,EACGsE,+BAA+B3C,EAAO6B,GACtCS,MAAK,SAACjE,GACLoD,EAAQc,KAAK,QAEdC,OAAM,SAACR,GAAD,OAAOS,MAAMT,EAAEU,aAkCOjD,UAAU,qBAArC,+C,MCdOmD,MApCf,WACE,MAAoCzE,IAApC,0BAAgBe,GAAhB,EAASD,OAAT,EAAgBC,MAAQC,EAAxB,KAcA,OAbA0D,qBAAU,WACR,IAAMC,EAAczE,EAAK0E,oBAAmB,SAACC,GAEzC7D,EADE6D,EACO,CAAEnD,KAAM,WAAYX,KAAM8D,GAE1B,CAAEnD,KAAM,WAAYX,KAAM,UAGvC,OAAO,WACL4D,OAED,IACHZ,QAAQC,IAAIjD,GAEV,cAAC,IAAD,UACE,qBAAKO,UAAU,MAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOwD,KAAK,SAAZ,SACE,cAAC,EAAD,MAEF,eAAC,IAAD,CAAOA,KAAK,YAAZ,UACE,cAAC,EAAD,IACA,cAAC,EAAD,OAEF,eAAC,IAAD,CAAOA,KAAK,IAAZ,UACE,cAAC,EAAD,IACA,cAAC,EAAD,eC1BGC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBd,MAAK,YAAkD,IAA/Ce,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,gBC2CCtF,MA7Cf,SAAiB6F,EAAOC,GACtB,IAAIhD,EACJ,OAAQgD,EAAO9D,MACb,IAAK,aACH,OAAO,2BAAK6D,GAAZ,IAAmBzE,OAAQ,KAC7B,IAAK,WACH,OAAO,2BAAKyE,GAAZ,IAAmBxE,KAAMyE,EAAOzE,OAClC,IAAK,gBAEH,OAAe,KADfyB,EAAQ+C,EAAMzE,OAAO2E,QAAQD,EAAO/C,OAG3B,2BACF8C,GADL,IAEEzE,OAAO,GAAD,mBACDyE,EAAMzE,OAAO4E,MAAM,EAAGlD,IADrB,4BAEC+C,EAAMzE,OAAO0B,IAFd,IAEsBnB,MAAOkE,EAAMzE,OAAO0B,GAAOnB,MAAQ,KAFzD,YAGDkE,EAAMzE,OAAO4E,MAAMlD,EAAQ,OAI7B,2BAAK+C,GAAZ,IAAmBzE,OAAO,GAAD,mBAAMyE,EAAMzE,QAAZ,CAAoB0E,EAAO/C,SACtD,IAAK,qBAEH,OADAD,EAAQ+C,EAAMzE,OAAO2E,QAAQD,EAAO/C,MACF,IAA9B8C,EAAMzE,OAAO0B,GAAOnB,MACf,2BACFkE,GADL,IAEEzE,OAAO,GAAD,mBACDyE,EAAMzE,OAAO4E,MAAM,EAAGlD,IADrB,YAED+C,EAAMzE,OAAO4E,MAAMlD,EAAQ,OAI7B,2BACF+C,GADL,IAEEzE,OAAO,GAAD,mBACDyE,EAAMzE,OAAO4E,MAAM,EAAGlD,IADrB,4BAEC+C,EAAMzE,OAAO0B,IAFd,IAEsBnB,MAAOkE,EAAMzE,OAAO0B,GAAOnB,MAAQ,KAFzD,YAGDkE,EAAMzE,OAAO4E,MAAMlD,EAAQ,OAIpC,QACE,OAAO+C,ICvCbI,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,CAAelG,aDVS,CAC1BmB,OAAQ,GACRC,KAAM,MCQuCrB,QAASA,EAApD,SACE,cAAC,EAAD,QAGJoG,SAASC,eAAe,SAM1BhB,M","file":"static/js/main.4edea27a.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\r\n\r\n// Prepares the dataLayer\r\nexport const StateContext = createContext();\r\n\r\n// Wrap our app and provide the Data layer\r\nexport const StateProvider = ({ reducer, initialState, children }) => (\r\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\r\n    {children}\r\n  </StateContext.Provider>\r\n);\r\n\r\n// Pull information from the data layer\r\nexport const useStateValue = () => useContext(StateContext);","import firebase from \"firebase\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyD-dkuPfHHBAX3fPXztkDfco6laTh1Stz0\",\r\n  authDomain: \"clone-d49ac.firebaseapp.com\",\r\n  projectId: \"clone-d49ac\",\r\n  storageBucket: \"clone-d49ac.appspot.com\",\r\n  messagingSenderId: \"1095367751997\",\r\n  appId: \"1:1095367751997:web:db89a1492631c91bcded54\",\r\n  measurementId: \"G-C536CWJXFD\",\r\n};\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\n\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebase.auth();\r\n\r\nexport { db, auth };\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\r\nimport \"./Header.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { auth } from \"./firebase\";\r\n\r\nfunction Header() {\r\n  const [{ basket, user },dispatch] = useStateValue();\r\n  const length =\r\n    basket.length > 0\r\n      ? basket.reduce((a, b) => {\r\n          return a + b.count;\r\n        }, 0)\r\n      : 0;\r\n  const logout = () => {\r\n    if (user) {\r\n      dispatch({type:\"EMPTY_CART\"})\r\n      auth.signOut();\r\n\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"header\">\r\n      <Link to=\"/\">\r\n        <img\r\n          src=\"http://pngimg.com/uploads/amazon/amazon_PNG11.png\"\r\n          alt=\"amazon logo\"\r\n          className=\"header__img\"\r\n        />\r\n      </Link>\r\n      <div className=\"header__search\">\r\n        <input type=\"text\" className=\"header__searchInput\" />\r\n        <SearchIcon className=\"header__searchIcon\" />\r\n      </div>\r\n      <div className=\"header__nav\">\r\n        <Link to={!user && \"/login\"} className=\"header__link\">\r\n          <div onClick={logout} className=\"header__option\">\r\n            <span className=\"header__optionLine1\">Hi, {user?.email}</span>\r\n            <span className=\"header__optionLine2\">\r\n              {user ? \"Sign Out\" : \"Sign In\"}\r\n            </span>\r\n          </div>\r\n        </Link>\r\n        <Link to=\"/\" className=\"header__link\">\r\n          <div className=\"header__option\">\r\n            <span className=\"header__optionLine1\">Orders</span>\r\n            <span className=\"header__optionLine2\">&amp; Returns</span>\r\n          </div>\r\n        </Link>\r\n        <Link to=\"/\" className=\"header__link\">\r\n          <div className=\"header__option\">\r\n            <span className=\"header__optionLine1\">Your</span>\r\n            <span className=\"header__optionLine2\">Prime</span>\r\n          </div>\r\n        </Link>\r\n        <Link to=\"/checkout\" className=\"header__link\">\r\n          <div className=\"header__optionBasket\">\r\n            <ShoppingCartIcon />\r\n            <span className=\"header__optionLine2 header__optionBasketCount\">\r\n              {length}\r\n            </span>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport \"./Product.css\";\r\n\r\nfunction Product({ title, price, id, image, rating }) {\r\n  const [{ basket }, dispatch] = useStateValue();\r\n  const addToBasket = () => {\r\n    let item = basket.find((item) => item.id === id);\r\n    if (!item)\r\n      dispatch({\r\n        type: \"ADD_TO_BASKET\",\r\n        item: {\r\n          id,\r\n          title,\r\n          image,\r\n          price,\r\n          rating,\r\n          count: 1,\r\n        },\r\n      });\r\n    else\r\n      dispatch({\r\n        type: \"ADD_TO_BASKET\",\r\n        item,\r\n      });\r\n  };\r\n  return (\r\n    <div className=\"product\">\r\n      <div className=\"product__info\">\r\n        <p>{title}</p>\r\n        <small>$</small>\r\n        <strong>{price}</strong>\r\n        <div className=\"product__rating\">\r\n          {Array(rating)\r\n            .fill()\r\n            .map((_, index) => (\r\n              <p key={index}>⭐</p>\r\n            ))}\r\n        </div>\r\n      </div>\r\n      <img src={image} alt={id} />\r\n      <button onClick={addToBasket}>Add to Basket</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n","import React from \"react\";\r\nimport Product from \"./Product\";\r\nimport \"./Home.css\";\r\n\r\nfunction Home() {\r\n  return (\r\n    <div className=\"home\">\r\n      <img\r\n        className=\"home__img\"\r\n        src=\"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg\"\r\n        alt=\"background\"\r\n      />\r\n      <div className=\"home__row\">\r\n        <Product\r\n          id=\"12321341\"\r\n          title=\"The Lean Startup: How Constant Innovation Creates Radically Successful Businesses Paperback\"\r\n          price={11.96}\r\n          rating={5}\r\n          image=\"https://images-na.ssl-images-amazon.com/images/I/51Zymoq7UnL._SX325_BO1,204,203,200_.jpg\"\r\n        />\r\n        <Product\r\n          id=\"49538094\"\r\n          title=\"Kenwood kMix Stand Mixer for Baking, Stylish Kitchen Mixer with K-beater, Dough Hook and Whisk, 5 Litre Glass Bowl\"\r\n          price={239.0}\r\n          rating={4}\r\n          image=\"https://images-na.ssl-images-amazon.com/images/I/81O%2BGNdkzKL._AC_SX450_.jpg\"\r\n        />\r\n      </div>\r\n      <div className=\"home__row\">\r\n        <Product\r\n          id=\"4903850\"\r\n          title=\"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor\"\r\n          price={199.99}\r\n          rating={3}\r\n          image=\"https://images-na.ssl-images-amazon.com/images/I/71Swqqe7XAL._AC_SX466_.jpg\"\r\n        />\r\n        <Product\r\n          id=\"23445930\"\r\n          title=\"Amazon Echo (3rd generation) | Smart speaker with Alexa, Charcoal Fabric\"\r\n          price={98.99}\r\n          rating={5}\r\n          image=\"https://media.very.co.uk/i/very/P6LTG_SQ1_0000000071_CHARCOAL_SLf?$300x400_retinamobilex2$\"\r\n        />\r\n        <Product\r\n          id=\"3254354345\"\r\n          title=\"New Apple iPad Pro (12.9-inch, Wi-Fi, 128GB) - Silver (4th Generation)\"\r\n          price={598.99}\r\n          rating={4}\r\n          image=\"https://images-na.ssl-images-amazon.com/images/I/816ctt5WV5L._AC_SX385_.jpg\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"home__row\">\r\n        <Product\r\n          id=\"90829332\"\r\n          title=\"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor - Super Ultra Wide Dual WQHD 5120 x 1440\"\r\n          price={1094.98}\r\n          rating={4}\r\n          image=\"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SX355_.jpg\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport \"./CheckoutProduct.css\";\r\n\r\nfunction CheckoutProduct({ title, price, id, image, rating, count }) {\r\n  const [{ basket }, dispatch] = useStateValue();\r\n  let item = basket.find((item) => id === item.id);\r\n  const removeFromBasket = () => {\r\n    dispatch({\r\n      type: \"REMOVE_FROM_BASKET\",\r\n      item,\r\n    });\r\n  };\r\n  const addToBasket = () => {\r\n    dispatch({\r\n      type: \"ADD_TO_BASKET\",\r\n      item,\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"checkoutproduct\">\r\n      <img src={image} alt={id} />\r\n      <div className=\"checkoutproduct__info\">\r\n        <p className=\"checkoutproduct__title\">{title}</p>\r\n        <small>$</small>\r\n        <strong>{price}</strong>\r\n        <div className=\"checkoutproduct__rating\">\r\n          {Array(rating)\r\n            .fill()\r\n            .map((_, index) => (\r\n              <p key={index}>⭐</p>\r\n            ))}\r\n        </div>\r\n        <div>\r\n          <button\r\n            className=\"checkoutproduct__removeBtn\"\r\n            onClick={removeFromBasket}\r\n          >\r\n            -\r\n          </button>\r\n          {count}\r\n          <button className=\"checkoutproduct__addBtn\" onClick={addToBasket}>\r\n            +\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CheckoutProduct;\r\n","import React from \"react\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport \"./Subtotal.css\";\r\n\r\nfunction Subtotal() {\r\n  const [{ basket }] = useStateValue();\r\n  const length = basket.reduce((a, b) => {\r\n    return a + b.count;\r\n  }, 0);\r\n  const getBasketTotal = (basket) => {\r\n    return basket.reduce((a, b) => {\r\n      return a + b.count * b.price;\r\n    }, 0);\r\n  };\r\n  return (\r\n    <div className=\"subtotal\">\r\n      <CurrencyFormat\r\n        renderText={(value) => (\r\n          <>\r\n            <p>\r\n              Subtotal ({length} items) : <strong>{value}</strong>{\" \"}\r\n            </p>\r\n            <small className=\"subtotal__gifts\">\r\n              <input type=\"checkbox\" /> This order contains gift card.\r\n            </small>\r\n          </>\r\n        )}\r\n        value={getBasketTotal(basket)}\r\n        decimalScale={2}\r\n        displayType={\"text\"}\r\n        thousandSeperator={true}\r\n        prefix={\"$\"}\r\n      ></CurrencyFormat>\r\n      <button>Proceed to Checkout</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Subtotal;\r\n","import React from \"react\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport CheckoutProduct from \"./CheckoutProduct\";\r\nimport Subtotal from \"./Subtotal\";\r\nimport \"./Checkout.css\";\r\n\r\nfunction Checkout() {\r\n  const [{ basket }] = useStateValue();\r\n\r\n  return (\r\n    <div className=\"checkout\">\r\n      <div className=\"checkout__left\">\r\n        <img\r\n          className=\"checkout__ad\"\r\n          src=\"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg\"\r\n          alt=\"\"\r\n        />\r\n        <div>\r\n          {basket.length === 0 ? (\r\n            <h2 className=\"checkout__title\">Your basket is empty.</h2>\r\n          ) : (\r\n            <div>\r\n              <h2 className=\"checkout__title\">Your shopping Basket</h2>\r\n              {basket.map((item, index) => (\r\n                <CheckoutProduct\r\n                  key={index}\r\n                  id={item.id}\r\n                  title={item.title}\r\n                  image={item.image}\r\n                  price={item.price}\r\n                  rating={item.rating}\r\n                  count={item.count}\r\n                />\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"checkout__right\">{basket.length > 0 && <Subtotal />}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Checkout;\r\n","import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { auth } from \"./firebase\";\r\nimport \"./Login.css\";\r\n\r\nfunction Login() {\r\n  const history = useHistory();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const login = (e) => {\r\n      console.log(history);\r\n    e.preventDefault();\r\n    auth\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then((auth) => {\r\n        history.push(\"/\");\r\n      })\r\n      .catch((e) => alert(e.message));\r\n  };\r\n  const register = (e) => {\r\n    e.preventDefault();\r\n    auth\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then((auth) => {\r\n        history.push(\"/\");\r\n      })\r\n      .catch((e) => alert(e.message));\r\n  };\r\n  return (\r\n    <div className=\"login\">\r\n      <Link to=\"/\">\r\n        <img\r\n          className=\"login__logo\"\r\n          src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\"\r\n          alt=\"logo\"\r\n        />\r\n      </Link>\r\n      <div className=\"login__container\">\r\n        <h1>Sign-In</h1>\r\n        <form>\r\n          <h5>E-mail</h5>\r\n          <input\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n          <h5>Password</h5>\r\n          <input\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n          <button onClick={login} type=\"submit\" className=\"login__signInBtn\">\r\n            Sign-In\r\n          </button>\r\n        </form>\r\n        <p>\r\n          By continuing, you agree to Amazon's Conditions of Use and Privacy\r\n          Notice.\r\n        </p>\r\n        <button onClick={register} className=\"login__registerBtn\">\r\n          Create your Amazon account\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useEffect } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport Home from \"./Home\";\nimport Checkout from \"./Checkout\";\nimport Login from \"./Login\";\nimport { useStateValue } from \"./StateProvider\";\nimport { auth } from \"./firebase\";\nimport \"./App.css\";\n\nfunction App() {\n  const [{ basket,user }, dispatch] = useStateValue();\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((authUser) => {\n      if (authUser) {\n        dispatch({ type: \"GET_USER\", user: authUser });\n      } else {\n        dispatch({ type: \"GET_USER\", user: null });\n      }\n    });\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n  console.log(user);\n  return (\n    <Router>\n      <div className=\"app\">\n        <Switch>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n          <Route path=\"/checkout\">\n            <Header />\n            <Checkout />\n          </Route>\n          <Route path=\"/\">\n            <Header />\n            <Home />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const initialState = {\r\n  basket: [],\r\n  user: null,\r\n};\r\n\r\nfunction reducer(state, action) {\r\n  let index;\r\n  switch (action.type) {\r\n    case \"EMPTY_CART\":\r\n      return { ...state, basket: [] };\r\n    case \"GET_USER\":\r\n      return { ...state, user: action.user };\r\n    case \"ADD_TO_BASKET\":\r\n      index = state.basket.indexOf(action.item);\r\n      if (index !== -1) {\r\n        // basket[index].count = basket[index].count + 1; // increases by 2 coz reducer will be called 2 times\r\n        return {\r\n          ...state,\r\n          basket: [\r\n            ...state.basket.slice(0, index),\r\n            { ...state.basket[index], count: state.basket[index].count + 1 },\r\n            ...state.basket.slice(index + 1),\r\n          ],\r\n        };\r\n      }\r\n      return { ...state, basket: [...state.basket, action.item] };\r\n    case \"REMOVE_FROM_BASKET\":\r\n      index = state.basket.indexOf(action.item);\r\n      if (state.basket[index].count === 1) {\r\n        return {\r\n          ...state,\r\n          basket: [\r\n            ...state.basket.slice(0, index),\r\n            ...state.basket.slice(index + 1),\r\n          ],\r\n        };\r\n      }\r\n      return {\r\n        ...state,\r\n        basket: [\r\n          ...state.basket.slice(0, index),\r\n          { ...state.basket[index], count: state.basket[index].count - 1 },\r\n          ...state.basket.slice(index + 1),\r\n        ],\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nexport default reducer;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { StateProvider } from \"./StateProvider\";\nimport reducer, { initialState } from \"./reducer\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}